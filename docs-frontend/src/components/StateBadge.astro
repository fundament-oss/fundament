---
interface Props {
  state: 'prediscussion' | 'discussion' | 'published' | 'committed' | 'abandoned';
}

const { state } = Astro.props;

const stateConfig = {
  prediscussion: { label: 'Pre-Discussion' },
  discussion: { label: 'Discussion' },
  published: { label: 'Published' },
  committed: { label: 'Committed' },
  abandoned: { label: 'Abandoned' },
};

const currentState = stateConfig[state];
---

<div class="state-badge">
  <span class="state-label" data-state={state}>
    {currentState.label}
  </span>
</div>

<style>
  @reference "tailwindcss/theme";

  .state-badge {
    @apply mt-2 mb-2 inline-block;
  }

  .state-label {
    @apply inline-block rounded-md px-3 py-1 text-sm font-semibold tracking-wide uppercase;
  }

  .state-label[data-state='prediscussion'] {
    @apply bg-gray-200 text-gray-900 dark:bg-gray-600 dark:text-white;
  }

  .state-label[data-state='discussion'] {
    @apply bg-indigo-200 text-indigo-900 dark:bg-indigo-600 dark:text-white;
  }

  .state-label[data-state='published'] {
    @apply bg-emerald-200 text-emerald-900 dark:bg-emerald-600 dark:text-white;
  }

  .state-label[data-state='committed'] {
    @apply bg-fuchsia-200 text-fuchsia-900 dark:bg-fuchsia-600 dark:text-white;
  }

  .state-label[data-state='abandoned'] {
    @apply bg-rose-200 text-rose-900 dark:bg-rose-600 dark:text-white;
  }
</style>
