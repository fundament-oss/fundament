# Fundament Helm Chart - Default Values

# JWT Secret - required for token signing/validation across services
# Must be set in production (no default for security)
jwtSecret: ""

# External URLs - must be set for your environment
externalUrls:
  authn: "" # e.g., https://authn.example.com
  organization: "" # e.g., https://organization.example.com
  console: "" # e.g., https://app.example.com
  docs: "" # e.g., https://docs.example.com
  cookieDomain: "" # e.g., example.com

# Container images
images:
  dbMigrations: db-migrations:latest
  authnApi: authn-api:latest
  organizationApi: organization-api:latest
  consoleFrontend: console-frontend:latest
  docsFrontend: docs-frontend:latest

# Database (CloudNativePG)
db:
  enabled: true
  instances: 1
  storageSize: 1Gi
  reset: false
  insertTestData: false
  exposePort: 0  # Expose postgres on this port via LoadBalancer (0 = disabled)

# Authentication API
authnApi:
  enabled: true
  replicas: 1
  logLevel: info

# Organization API
organizationApi:
  enabled: false
  replicas: 1
  logLevel: info

# Console Frontend
consoleFrontend:
  enabled: false
  replicas: 1

# Docs frontend
docsFrontend:
  enabled: false
  replicas: 1

# OpenFGA (Fine-Grained Authorization)
openfga:
  enabled: false
  image: openfga/openfga:latest
  replicas: 1
  playground:
    enabled: false
    apiPort: 18080

# Dex (OIDC Identity Provider)
dex:
  enabled: true
  issuer: ""
  discoveryUrl: "" # Internal URL for OIDC discovery (defaults to issuer if empty)
  staticClients: []
  staticPasswords: []

# Host aliases for pods (useful for local development to resolve external URLs to internal services)
hostAliases: []

# Ingress
ingress:
  enabled: false
  className: nginx
  domain: ""
