# Local development environment values

jwtSecret: "local-dev-jwt-secret"

externalUrls:
  authn: http://authn.127.0.0.1.nip.io:8080
  organization: http://organization.127.0.0.1.nip.io:8080
  console: http://console.127.0.0.1.nip.io:8080
  docs: http://docs.127.0.0.1.nip.io:8080
  cookieDomain: 127.0.0.1.nip.io
  corsAllowedOrigins: "http://console.127.0.0.1.nip.io:8080,http://localhost:4200,http://localhost:5173"

db:
  enabled: true
  instances: 1
  storageSize: 1Gi
  reset: false
  insertTestData: true
  exposePort: 54328
  postgresql:
    parameters:
      log_statement: "all"
      log_error_verbosity: "verbose"
      log_min_messages: "info"
      log_min_error_statement: "error"

authnApi:
  enabled: true
  replicas: 1
  logLevel: debug

organizationApi:
  enabled: true
  replicas: 1
  logLevel: debug

consoleFrontend:
  enabled: true
  replicas: 1

docsFrontend:
  enabled: true
  replicas: 1

dex:
  enabled: true
  issuer: http://dex.127.0.0.1.nip.io:8080
  discoveryUrl: http://fundament-dex:5556
  staticClients:
    - id: fundament
      name: "Fundament Auth API"
      redirectURIs:
        - http://fundament.127.0.0.1.nip.io:8080/callback
        - http://authn.127.0.0.1.nip.io:8080/callback
      public: true
  staticPasswords:
    # All passwords are 'password' (echo 'password' | htpasswd -BinC 10 user)
    - email: admin@example.com
      hash: "$2y$10$KdEtpACqX8Jh0AYF2n1sfeySkYkG8hRK6Tmn85/VpvaVVPgxL3Hsi"
      username: admin
      userID: "08a8684b-db88-4b73-90a9-3cd1661f5466"
    # acme-corp users
    - email: alice@acme-corp.com
      hash: "$2y$10$KdEtpACqX8Jh0AYF2n1sfeySkYkG8hRK6Tmn85/VpvaVVPgxL3Hsi"
      username: Alice Johnson
      userID: "019b4000-1000-7000-8000-000000000001"
    - email: bob@acme-corp.com
      hash: "$2y$10$KdEtpACqX8Jh0AYF2n1sfeySkYkG8hRK6Tmn85/VpvaVVPgxL3Hsi"
      username: Bob Smith
      userID: "019b4000-1000-7000-8000-000000000002"
    - email: carol@acme-corp.com
      hash: "$2y$10$KdEtpACqX8Jh0AYF2n1sfeySkYkG8hRK6Tmn85/VpvaVVPgxL3Hsi"
      username: Carol White
      userID: "019b4000-1000-7000-8000-000000000003"
    # globex users
    - email: david@globex.com
      hash: "$2y$10$KdEtpACqX8Jh0AYF2n1sfeySkYkG8hRK6Tmn85/VpvaVVPgxL3Hsi"
      username: David Brown
      userID: "019b4000-1000-7000-8000-000000000004"
    - email: eve@globex.com
      hash: "$2y$10$KdEtpACqX8Jh0AYF2n1sfeySkYkG8hRK6Tmn85/VpvaVVPgxL3Hsi"
      username: Eve Davis
      userID: "019b4000-1000-7000-8000-000000000005"
    # initech users
    - email: frank@initech.com
      hash: "$2y$10$KdEtpACqX8Jh0AYF2n1sfeySkYkG8hRK6Tmn85/VpvaVVPgxL3Hsi"
      username: Frank Miller
      userID: "019b4000-1000-7000-8000-000000000006"
    - email: grace@initech.com
      hash: "$2y$10$KdEtpACqX8Jh0AYF2n1sfeySkYkG8hRK6Tmn85/VpvaVVPgxL3Hsi"
      username: Grace Lee
      userID: "019b4000-1000-7000-8000-000000000007"

openfga:
  enabled: true
  # Use a non-standard API port since 8080 is used by ingress.
  # The playground auto-detects the API port from the URL it's served from.
  apiPort: 18080
  playground:
    # To use the playground, you must port-forward both the API and playground ports to localhost:
    #   kubectl port-forward svc/fundament-openfga 18080:18080 3000:3000
    # Then access the playground at http://localhost:3000/playground
    # This is due to CSP restrictions in the embedded play.fga.dev iframe.
    # See: https://github.com/openfga/openfga/issues/1174
    enabled: true

ingress:
  enabled: true
  className: nginx
  domain: 127.0.0.1.nip.io
