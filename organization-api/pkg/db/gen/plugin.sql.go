// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: plugin.sql

package db

import (
	"context"

	"github.com/google/uuid"
)

const pluginCategoriesList = `-- name: PluginCategoriesList :many
SELECT cp.plugin_id, c.id, c.name
FROM zappstore.categories_plugins cp
JOIN zappstore.categories c ON c.id = cp.tag_id
WHERE c.deleted IS NULL
ORDER BY c.name
`

type PluginCategoriesListRow struct {
	PluginID uuid.UUID
	ID       uuid.UUID
	Name     string
}

func (q *Queries) PluginCategoriesList(ctx context.Context) ([]PluginCategoriesListRow, error) {
	rows, err := q.db.Query(ctx, pluginCategoriesList)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []PluginCategoriesListRow
	for rows.Next() {
		var i PluginCategoriesListRow
		if err := rows.Scan(&i.PluginID, &i.ID, &i.Name); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const pluginList = `-- name: PluginList :many
SELECT id, name, description
FROM zappstore.plugins
WHERE deleted IS NULL
ORDER BY name
`

type PluginListRow struct {
	ID          uuid.UUID
	Name        string
	Description string
}

func (q *Queries) PluginList(ctx context.Context) ([]PluginListRow, error) {
	rows, err := q.db.Query(ctx, pluginList)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []PluginListRow
	for rows.Next() {
		var i PluginListRow
		if err := rows.Scan(&i.ID, &i.Name, &i.Description); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const pluginTagsList = `-- name: PluginTagsList :many
SELECT pt.plugin_id, t.id, t.name
FROM zappstore.plugins_tags pt
JOIN zappstore.tags t ON t.id = pt.tag_id
WHERE t.deleted IS NULL
ORDER BY t.name
`

type PluginTagsListRow struct {
	PluginID uuid.UUID
	ID       uuid.UUID
	Name     string
}

func (q *Queries) PluginTagsList(ctx context.Context) ([]PluginTagsListRow, error) {
	rows, err := q.db.Query(ctx, pluginTagsList)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []PluginTagsListRow
	for rows.Next() {
		var i PluginTagsListRow
		if err := rows.Scan(&i.PluginID, &i.ID, &i.Name); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}
