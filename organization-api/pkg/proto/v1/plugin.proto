syntax = "proto3";

package organization.v1;

option go_package = "github.com/fundament-oss/fundament/organization-api/pkg/proto/gen/v1;organizationv1";

// PluginService provides information about available plugins and presets
service PluginService {
  // List all available plugins
  rpc ListPlugins(ListPluginsRequest) returns (ListPluginsResponse);
  // Get detailed information about a specific plugin
  rpc GetPluginDetail(GetPluginDetailRequest) returns (GetPluginDetailResponse);
  // List all available presets
  rpc ListPresets(ListPresetsRequest) returns (ListPresetsResponse);
}

// Tag information
message Tag {
  string id = 10;
  string name = 20;
}

// Category information
message Category {
  string id = 10;
  string name = 20;
}

// PluginSummary information
message PluginSummary {
  string id = 10;
  string name = 20;
  string description = 30;
  string description_short = 35;
  repeated Tag tags = 40;
  repeated Category categories = 50;
}

// List plugins request
message ListPluginsRequest {}

// List plugins response
message ListPluginsResponse {
  repeated PluginSummary plugins = 10;
}

// Preset information
message Preset {
  string id = 10;
  string name = 20;
  string description = 30;
  repeated string plugin_ids = 40;
}

// List presets request
message ListPresetsRequest {}

// List presets response
message ListPresetsResponse {
  repeated Preset presets = 10;
}

// Documentation link for a plugin
message DocumentationLink {
  string id = 10;
  string title = 20;
  string url_name = 30;
  string url = 40;
}

// Author information
message Author {
  string name = 10;
  string url = 20;
}

// Detailed plugin information
message PluginDetail {
  string id = 10;
  string name = 20;
  string description = 30;
  string description_short = 35;
  repeated Tag tags = 40;
  repeated Category categories = 50;
  Author author = 60;
  string repository_url = 70;
  repeated DocumentationLink documentation_links = 80;
}

// Get plugin detail request
message GetPluginDetailRequest {
  string plugin_id = 10;
}

// Get plugin detail response
message GetPluginDetailResponse {
  PluginDetail plugin = 10;
}
