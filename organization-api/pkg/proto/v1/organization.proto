syntax = "proto3";

package organization.v1; // TODO: Should maybe be renamed to `fundament.v1`?

import "buf/validate/validate.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";

option go_package = "github.com/fundament-oss/fundament/organization-api/pkg/proto/gen/v1;organizationv1";

// OrganizationService manages organizations
service OrganizationService {
  // GetOrganization retrieves the user's organization by ID
  rpc GetOrganization(GetOrganizationRequest) returns (GetOrganizationResponse);

  // UpdateOrganization updates the user's organization
  rpc UpdateOrganization(UpdateOrganizationRequest) returns (google.protobuf.Empty);
}

// Organization information
message Organization {
  // Organization ID (UUID)
  string id = 10;
  // Organization name
  string name = 20;
  // Creation timestamp (RFC3339)
  google.protobuf.Timestamp created = 30;
}

// GetOrganization request
message GetOrganizationRequest {
  // ID of the organization to retrieve
  string id = 10 [(buf.validate.field).string = {uuid: true}];
}

// GetOrganization response
message GetOrganizationResponse {
  // The requested organization
  Organization organization = 10;
}

// UpdateOrganization request
message UpdateOrganizationRequest {
  // ID of the organization to update
  string id = 10 [(buf.validate.field).string = {uuid: true}];
  // New name for the organization
  string name = 20 [(buf.validate.field).string = {
    min_len: 1
    max_len: 255
  }];
}
